<div class="container">
  <button type="button" class="btn btn-success btn-md" data-toggle="modal" data-target="#AddServiceModel"
          (click)="test()">
    Add service
  </button>
</div>


<p></p>
<div class="container">

  <input type="search" class="form-control"
         id="UserLoginInput" [(ngModel)]="searchText" placeholder="Search text"
         (blur)="onBlurSearchForm()" (focus)="onFocusSearchForm()">
  <ul *ngIf="isVisibleUsers == true">
    <li class="list-group-item" *ngFor="let user of users | filter: searchText; let i = index"
        (mousedown)="showUserManageModal(i)">
      {{user.name}}
    </li>
  </ul>

<!--
<div class="md-form">
  <input type="search" [(ngModel)]="searchText" placeholder="Search text">
</div>
<ul *ngFor="let user of users | filter: searchText">
  <li>{{user.name}}</li>
</ul>
-->
  <!--<mat-form-field>
    <input title="User login:" type="text" [matAutocomplete]="auto">
  </mat-form-field>

  <mat-autocomplete #auto="matAutocomplete">
    <mat-option *ngIf="isLoading" class="is-loading"><mat-spinner diameter="50"></mat-spinner></mat-option>
    <ng-container *ngIf="!isLoading">
      <mat-option *ngFor="let user of users" [value]="user.name">
        <span>{{ user.name }}</span>
      </mat-option>
    </ng-container>
  </mat-autocomplete>-->

  <!--<input type="search" class="form-control"
         id="UserLoginInput" [(ngModel)]="searchText" placeholder="Search text"
         (blur)="onBlurSearchForm()" (focus)="onFocusSearchForm()">
  *ngIf="isVisibleUsers == true" >
    <ul *ngIf="isVisibleUsers == true">
      <li class="list-group-item" *ngFor="let user of users | filter: searchText; let i = index"
          (click)="test()" (blur)="$event.stopPropagation(); $event.returnValue = false">
        <button
          (click)="test()"
        >{{user.name}}</button>
        <a href="https://www.google.com/" (click)="test()">{{user.name}}</a>
      </li>
    </ul>-->
    <!--[ngClass]="{active: isUserListItemActive()}"
          (blur)="onBlurUserListItem()" (focus)="onFocusUserListItem()"-->
</div>

<ng-template #userManageTemplate>
  <p></p><br><p></p><p></p><p><p>
  <div class="modal-header">
    <h4 class="modal-title pull-left">User manage</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="container">
        <h4>Login: <span class="label label-info">Petya</span></h4><br>
        <h4>Email: <span class="label label-info">petya@gmail.com</span></h4><br>
        <h4>Tokens: <span class="label label-info">122</span></h4><br>
        <h4>Status: <span class="label label-danger">banned</span></h4>
          <button type="submit" class="btn btn-warning btn-sm" data-toggle="modal"
                  data-target="#AddTokens">Add tokens to user
          </button>
          <button class="btn btn-danger btn-sm">Ban this user</button>
          <button class="btn btn-primary btn-sm">Unban this user</button>
    </div>
    <p></p><br>
    <p></p><p></p><p><p><p><p>
    <div class="table-responsive">

      <table id="ServiceVariantsTable" class="table table-bordered">
        <thead class="thead-dark">
        <tr>
          <th scope="col">Name</th>
          <th scope="col">Period</th>
          <th scope="col">Price/period</th>
          <th scope="col">Status</th>
          <div class="invisible">
            <th scope="col"></th>
          </div>
          <div class="invisible">
            <th scope="col"></th>
          </div>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td>Name X</td>
          <td>Period X</td>
          <td>price</td>
          <td>
            <h4>
									<span class="label label-success">
										Active
									</span>
            </h4>
          </td>
          <td>
            <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#AcceptServiceBanModel">
              Ban service
            </button>
          </td>
          <td>
            <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#AcceptServiceUnbanModel">
              Unban service
            </button>
          </td>
        </tr>

        <tr>
          <td>Name X</td>
          <td>Period X</td>
          <td>Price X</td>
          <td>
            <h4>
									<span class="label label-success">
										Active
									</span>
            </h4>
          </td>
          <td>
            <button type="button" class="btn btn-danger btn-sm" data-toggle="modal" data-target="#AcceptServiceBanModel">
              Ban service
            </button>
          </td>
          <td>
            <button type="button" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#AcceptServiceUnbanModel">
              Unban service
            </button>
          </td>
        </tr>

        </tbody>
      </table>
    </div>
  </div>
</ng-template>

<div id="AcceptServiceBanModel" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Are you sure about this ban?</h4>
      </div>
      <div class="modal-body">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
      </div>
      <div class="modal-footer">
      </div>
    </div>

  </div>
</div>


<div id="AddServiceModel" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title">Please, fill info</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <div class="form-group">
          <label for="serviceName">Name:</label>
          <input type="text" class="form-control" id="serviceName">
          <label for="basePrice">Base price (for 1 month):</label>
          <input type="number" class="form-control" id="basePrice">
          <label for="comment">Discribition:</label>
          <textarea class="form-control" rows="5" id="comment"></textarea>
        </div>
      </div>
      <div class="modal-footer">
      </div>
    </div>

  </div>
</div>

<div id="AcceptServiceUnbanModel" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Are you sure about this unban?</h4>
      </div>
      <div class="modal-body">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Yes</button>
        <button type="button" class="btn btn-danger" data-dismiss="modal">No</button>
      </div>
      <div class="modal-footer">
      </div>
    </div>

  </div>
</div>

<!--
<h1>USERS MODULE</h1>

<table>
  <tr
    class="user"
    *ngFor="let user of users; let i = index"
  >
    <td class="name">{{user.name}}</td>
    <td class="email">{{user.email}}</td>
    <td class="tokens">{{user.tokens}}</td>
    <td class="name">


      <div
        class="btn-group"
        dropdown
      >
        <button
          class="btn btn-primary dropdown-toggle"
          dropdownToggle
        >Actions</button>

        <div
          class="dropdown-menu"
          *dropdownMenu
        >
          <button
            class="dropdown-item"
            (click)="editUser(i)"
          >EditName</button>

          <button
            class="dropdown-item"
            (click)="deleteUser(i)"
          >Delete</button>

          <button
            class="dropdown-item"
            (click)="editUserTokens(i)"
          >Edit Tokens</button>

        </div>
      </div>
    </td>
  </tr>
</table>

<br><br><br>

<button
  class="btn btn-primary"
  (click)="showModal(template)"
>Add User</button>

<ng-template #addUserTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <input
      (change)="addUserName = $event.target.value"
    >

    <button
      class="btn btn-primary"
      (click)="addUser()"
    >Add User</button>
  </div>
</ng-template>


<ng-template #editNameTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Modal</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <input
      [value]="currentEditUser.name"
      (change)="currentEditUser.name = $event.target.value"
    >
  </div>
</ng-template>

<ng-template #editTokensTemplate>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Please, set tokens number</h4>
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <input
      [value]="currentEditUser.tokens"
      (change)="currentEditUser.tokens = $event.target.value"
    >
  </div>
</ng-template>
-->
